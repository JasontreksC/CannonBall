[gd_scene load_steps=30 format=3 uid="uid://dk04etcfa0wra"]

[ext_resource type="Script" uid="uid://ixe6f0c8mtv7" path="res://Script/in_game_ui.gd" id="1_3xi00"]
[ext_resource type="PackedScene" uid="uid://fbrxb1i2vog1" path="res://Scene/hp_cell.tscn" id="2_dviy5"]
[ext_resource type="Shader" uid="uid://wjo8ajiaduq4" path="res://Shader/telescope.gdshader" id="3_oqxxn"]
[ext_resource type="PackedScene" uid="uid://sgea7shhc0td" path="res://Scene/background.tscn" id="3_quy4v"]
[ext_resource type="Texture2D" uid="uid://eyiexi4hnjxy" path="res://Asset/ui/telescope.png" id="4_7hrlq"]
[ext_resource type="Shader" uid="uid://bvrlkrmaw1jxg" path="res://Shader/just_color.tres" id="6_o5tdw"]
[ext_resource type="Texture2D" uid="uid://d37n1yd2i04eb" path="res://Asset/ui_dashboard_1.png" id="7_brp0j"]
[ext_resource type="Texture2D" uid="uid://b17q7wp0efyyn" path="res://Asset/ui_dashboard_2.png" id="8_wckav"]
[ext_resource type="Texture2D" uid="uid://b4qyt66jwdgol" path="res://Asset/prototype_object/ATK.png" id="9_wckav"]
[ext_resource type="Shader" uid="uid://bfqyq7be1pdx3" path="res://Shader/dashboard_attack_grad.tres" id="10_pmkfs"]
[ext_resource type="Script" uid="uid://bobtw8bp138h3" path="res://Script/polygon_button.gd" id="11_qyub3"]
[ext_resource type="Texture2D" uid="uid://c3pybtbta3oar" path="res://Asset/shell/normal_shell.png" id="13_oqxxn"]
[ext_resource type="Texture2D" uid="uid://ghh2b5ym2jgt" path="res://Asset/ui/ui_shell_dial.png" id="13_u4wab"]
[ext_resource type="Shader" uid="uid://chslhsr7t500r" path="res://Shader/fire_surf.tres" id="14_7hrlq"]
[ext_resource type="Shader" uid="uid://s4mnyl4kthwp" path="res://Shader/round.tres" id="14_bucyv"]
[ext_resource type="Texture2D" uid="uid://coknwbm1o0tp0" path="res://Asset/alpha_texture/crack.png" id="15_bucyv"]
[ext_resource type="Texture2D" uid="uid://b3j2oh0a5iehh" path="res://Asset/shell/poision_shell.png" id="16_voeoa"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7hrlq"]
shader = ExtResource("3_oqxxn")
shader_parameter/telescope_texture = ExtResource("4_7hrlq")
shader_parameter/radius = 0.45
shader_parameter/strength = 0.5

[sub_resource type="ViewportTexture" id="ViewportTexture_oqxxn"]
viewport_path = NodePath("Telescope/SubViewport")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0d0q2"]
shader = ExtResource("14_7hrlq")
shader_parameter/Texture2DParameter = ExtResource("15_bucyv")
shader_parameter/ColorParameter = Color(1, 0.35, 0, 1)
shader_parameter/emission = 3.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_voeoa"]
shader = ExtResource("14_bucyv")

[sub_resource type="CanvasTexture" id="CanvasTexture_0dgpy"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_dviy5"]
shader = ExtResource("6_o5tdw")
shader_parameter/Color = Color(0.786172, 3.15256e-06, 5.77569e-07, 1)

[sub_resource type="CanvasTexture" id="CanvasTexture_brp0j"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qyub3"]
shader = ExtResource("10_pmkfs")

[sub_resource type="Gradient" id="Gradient_i3syv"]
offsets = PackedFloat32Array(0.189474, 0.521053, 0.821053)
colors = PackedColorArray(0, 0.470588, 1, 0.972549, 0.54902, 0, 0.294118, 0, 1, 0.360784, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_u4wab"]
gradient = SubResource("Gradient_i3syv")

[sub_resource type="LabelSettings" id="LabelSettings_pmkfs"]
font_size = 240
font_color = Color(0.540346, 0.895914, 0.928074, 1)

[sub_resource type="LabelSettings" id="LabelSettings_oqxxn"]
font_size = 100

[node name="InGameUI" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_3xi00")
hpPointSprite = ExtResource("2_dviy5")

[node name="fps" type="Label" parent="."]
layout_mode = 0
offset_left = 9.0
offset_top = 146.0
offset_right = 49.0
offset_bottom = 169.0
text = "0"

[node name="Telescope" type="TextureRect" parent="."]
visible = false
material = SubResource("ShaderMaterial_7hrlq")
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -1080.0
offset_bottom = 1080.0
grow_horizontal = 0
texture = SubResource("ViewportTexture_oqxxn")

[node name="SubViewport" type="SubViewport" parent="Telescope"]
handle_input_locally = false
msaa_2d = 1
use_hdr_2d = true
texture_mipmap_bias = -2.0
canvas_item_default_texture_filter = 2
size = Vector2i(1080, 1080)
render_target_update_mode = 3

[node name="Camera2D" type="Camera2D" parent="Telescope/SubViewport"]

[node name="Background" parent="Telescope/SubViewport" instance=ExtResource("3_quy4v")]

[node name="Sprite2D" type="Sprite2D" parent="Telescope"]
position = Vector2(540, 540)
scale = Vector2(2, 2)
texture = ExtResource("4_7hrlq")

[node name="ShellDial" type="TextureRect" parent="."]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = -255.0
offset_top = -255.0
offset_right = 255.0
offset_bottom = 255.0
grow_vertical = 2
scale = Vector2(0.5, 0.5)
pivot_offset = Vector2(255, 255)
texture = ExtResource("13_u4wab")

[node name="PolygonButton_Top" type="Control" parent="ShellDial"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2, 2)
script = ExtResource("11_qyub3")
metadata/_custom_type_script = "uid://bobtw8bp138h3"

[node name="Polygon2D" type="Polygon2D" parent="ShellDial/PolygonButton_Top"]
z_index = 100
color = Color(0, 0, 0, 0)
polygon = PackedVector2Array(-2.18592e-14, -119, 30.7995, -114.945, 59.5, -103.057, 84.1457, -84.1457, 103.057, -59.5, 17.5197, -10.115, 14.3048, -14.3048, 10.115, -17.5197, 5.23591, -19.5407, -3.71607e-15, -20.23)

[node name="SP_Shell0" type="Sprite2D" parent="ShellDial/PolygonButton_Top"]
z_index = 3
position = Vector2(39, -67)
scale = Vector2(0.147151, 0.147151)
texture = ExtResource("13_oqxxn")

[node name="PolygonButton_Mid" type="Control" parent="ShellDial"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2, 2)
script = ExtResource("11_qyub3")
metadata/_custom_type_script = "uid://bobtw8bp138h3"

[node name="Polygon2D" type="Polygon2D" parent="ShellDial/PolygonButton_Mid"]
z_index = 100
color = Color(0, 0, 0, 0)
polygon = PackedVector2Array(103.057, -59.5, 114.945, -30.7995, 119, -2.91456e-14, 114.945, 30.7995, 103.057, 59.5, 17.5197, 10.115, 19.5407, 5.23591, 20.23, -4.95476e-15, 19.5407, -5.23591, 17.5197, -10.115)

[node name="SP_Shell1" type="Sprite2D" parent="ShellDial/PolygonButton_Mid"]
z_index = 3
material = SubResource("ShaderMaterial_0d0q2")
position = Vector2(78, 0)
scale = Vector2(0.147151, 0.147151)
texture = ExtResource("13_oqxxn")

[node name="PolygonButton_Bot" type="Control" parent="ShellDial"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2, 2)
script = ExtResource("11_qyub3")
metadata/_custom_type_script = "uid://bobtw8bp138h3"

[node name="Polygon2D" type="Polygon2D" parent="ShellDial/PolygonButton_Bot"]
z_index = 100
color = Color(0, 0, 0, 0)
polygon = PackedVector2Array(103.057, 59.5, 84.1457, 84.1457, 59.5, 103.057, 30.7995, 114.945, 7.28641e-15, 119, 1.23869e-15, 20.23, 5.23591, 19.5407, 10.115, 17.5197, 14.3048, 14.3048, 17.5197, 10.115)

[node name="SP_Shell2" type="Sprite2D" parent="ShellDial/PolygonButton_Bot"]
z_index = 3
position = Vector2(39, 68)
scale = Vector2(0.147151, 0.147151)
texture = ExtResource("16_voeoa")

[node name="SP_Outline" type="Sprite2D" parent="ShellDial"]
show_behind_parent = true
z_index = 1
material = SubResource("ShaderMaterial_voeoa")
position = Vector2(333, 121)
scale = Vector2(147.151, 147.151)
texture = SubResource("CanvasTexture_0dgpy")

[node name="P1HP" type="Control" parent="."]
anchors_preset = 0
mouse_filter = 2

[node name="HPBase" type="Sprite2D" parent="P1HP"]
material = SubResource("ShaderMaterial_dviy5")
position = Vector2(31, 40)
scale = Vector2(88.115, 55.5)
skew = 0.464258
texture = SubResource("CanvasTexture_brp0j")

[node name="HPCells" type="Node2D" parent="P1HP/HPBase"]
scale = Vector2(0.0113488, 0.020937)
skew = -0.274886

[node name="P2HP" type="Control" parent="."]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -1920.0
offset_right = -1920.0
grow_horizontal = 0
mouse_filter = 2

[node name="HPBase" type="Sprite2D" parent="P2HP"]
material = SubResource("ShaderMaterial_dviy5")
position = Vector2(1889, 40)
scale = Vector2(88.115, 55.5)
skew = -0.464258
texture = SubResource("CanvasTexture_brp0j")

[node name="HPCells" type="Node2D" parent="P2HP/HPBase"]
scale = Vector2(0.0113488, 0.020937)
skew = 0.274885

[node name="Dashboard" type="Control" parent="."]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
grow_horizontal = 2
mouse_filter = 2

[node name="TurnInfo" type="Sprite2D" parent="Dashboard"]
material = SubResource("ShaderMaterial_qyub3")
position = Vector2(-8.00006, 69.5)
scale = Vector2(6.46875, 1.54688)
texture = SubResource("GradientTexture2D_u4wab")

[node name="OutlineLeft" type="Sprite2D" parent="Dashboard"]
texture_repeat = 1
position = Vector2(-33.04, 70)
scale = Vector2(0.604375, 0.604375)
texture = ExtResource("7_brp0j")
region_enabled = true
region_rect = Rect2(0, 0, 700, 210)

[node name="OutlineRight" type="Sprite2D" parent="Dashboard/OutlineLeft"]
texture_repeat = 1
position = Vector2(402, -0.5)
texture = ExtResource("8_wckav")
region_rect = Rect2(0, 0, 500, 210)

[node name="P1Time" type="Label" parent="Dashboard"]
layout_mode = 0
offset_left = -240.0
offset_top = 41.0
offset_right = 994.0
offset_bottom = 371.0
scale = Vector2(0.163137, 0.163137)
text = "60"
label_settings = SubResource("LabelSettings_pmkfs")
horizontal_alignment = 1

[node name="P2Time" type="Label" parent="Dashboard"]
layout_mode = 0
offset_left = 28.9999
offset_top = 41.0
offset_right = 1263.0
offset_bottom = 371.0
scale = Vector2(0.163137, 0.163137)
text = "60"
label_settings = SubResource("LabelSettings_pmkfs")
horizontal_alignment = 1

[node name="AttackSymbol" type="Sprite2D" parent="Dashboard"]
position = Vector2(-2.00006, 70)
rotation = -0.787711
scale = Vector2(0.2, 0.2)
texture = ExtResource("9_wckav")

[node name="State" type="Control" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -461.0
offset_top = -21.0
offset_right = -461.0
offset_bottom = -21.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="State"]
layout_mode = 0
offset_right = 908.0
offset_bottom = 139.0
text = "상대를 기다리는중..."
label_settings = SubResource("LabelSettings_oqxxn")

[connection signal="pressed" from="ShellDial/PolygonButton_Top" to="." method="_on_polygon_button_top_pressed"]
[connection signal="pressed" from="ShellDial/PolygonButton_Mid" to="." method="_on_polygon_button_mid_pressed"]
[connection signal="pressed" from="ShellDial/PolygonButton_Bot" to="." method="_on_polygon_button_bot_pressed"]
